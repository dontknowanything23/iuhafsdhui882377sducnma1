<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<meta name="author" content="AuthorXY">
<link rel="stylesheet" type="text/css" href="Carnot_Style.css">
<title>CARNOT manual - Weather_Datafile</title>

<style type="text/css">body{margin-left:108.0pt;}</style>
</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">

<hr class="large">
<!--Insert Block Name, Path and Image here, image size can be modified-->
<img src="Figures/Weather_Datafile_1.jpg" align=right>
<p class="blockname">Weather_Datafile</p>
<p style="margin-top:0px; margin-bottom:20px">Path: CARNOT/Weather
<br><br></p>

<hr>

<p><b>Purpose:</b><br>
Read weather data from a data file and set the values in the 
<a href="2_Basic_Concepts.html#WDB">Weather Data Bus</a>.
</p>

<p><b>Description:</b><br>
The block loads weather data from a *.mat, *.txt, *.dat, *.csv or ascii-file in a 
variable in the mask workspace. The signal is converted to the Weather Data Bus 
(WBD). <br>A &quot;From Workspace&quot; bock in the subsystem uses 
this variable to create a time dependant signal in Simulink (see Simulink 
&quot;From Workspace&quot; block for details).</p> 
<p>The file must contain contain weather data in the Carnot weather data format.<br>
See <a href="WDB_format.html">WDB_format</a>, 
<a href="2_Basic_Concepts.html#WDB">Weather Data Bus</a> description in the manual<br>
or type
<br><tt>help WDB_format</tt>
<br> 
on the command line for more information. 
</p>
<p> A Unit-Delay with the timestep of the data forces the model to a maximum 
timestep equal to the data timestep. This &quot;Timestep in data&quot; 
is shown as information in the &quot;Selection&quot; frame.
</p>
<p>The block is typically used to read test reference years, e.g. try-format of 
DWD [DWD 2017], [DWD 2014], tmy-format or Meteonorm [Meteonorm 2019]. Some scripts are 
available in Carnot to convert other formats to WDB format (see chapter
<a href="2_Basic_Concepts.html#weather_data_import_functions">2.1.3 Weather data 
import functions</a>).</p>
<p>Some data records are available in carnot\public\data. See chapter
<a href="2_Basic_Concepts.html#weather_data_records">2.6 Weather Data Records</a> 
for details. </p>
<p>Warning: Be carefull when using the TRY2010 data of the DWD. For details 
see <a href="2_Basic_Concepts.html#weather_data_records">Chapter 2.6 Weather 
Data Records - German TRY Dataset 2011 in 2. Basic Concepts</a>.</p>
<p>Hint: General data like electric load profiles can be read in the 
model with the Data_from_File block in CARNOT/Load/General.</p>

<p style="margin-bottom:0;"><b>Output:</b></p>
<table class="inputtable">
	<tr>
		<td style="width: 100px;"> WDB </td>
		<td style="width: 10px;">:</td>
        <td> <a href="2_Basic_Concepts.html#WDB">Weather Data Bus</a> </td>
    </tr>
</table>


<p><b>Parameters and Dialog Box:</b></p>
<!--Insert sceen shot of the paramter mask here-->
<p><img src="Figures/Weather_Datafile_SHOT.jpg" /></p>
<strong>&quot;Picking a file&quot; frame<br></strong>Use of buttons :<br>1) 
&quot;From selected path&quot; opens a window to chose a data file from the 
&quot;Selected path&quot; shown in the &quot;Selection&quot; frame.<br>2) 
&quot;Carnot public data&quot; opens a window to chose a data file from the 
public data folder in Carnot. The &quot;Path&quot; is set to the public data folder.<br>3) 
&quot;Carnot internal data&quot; opens a window to chose a data file from the internal 
data folder in Carnot. The &quot;Path&quot; is set to the internal data folder.</p>
<p><strong>&quot;Chosen file&quot; frame</strong><br>&quot;File&quot; 
shows the name of the selected file, &quot;Path&quot; the folder where it is located.&nbsp; </p>
<ul>
 <li> Path - folder where of the file. Valid entries are:<br>'c:\myFiles\' - a 
 valid path on your computer<br>path_carnot('data') - selects the \public\data 
 folder of Carnot as the path<br>path_carnot('intdata') - selects the 
 \internal\data folder of Carnot as the path<br>'current' - selects the current 
 working directory as the path</li>
 <li> File - Name of the selected file with its extension</li>
	<li> Edit file and path - allows manual editing of the path and file. Be aware that the buttons 
in the &quot;Picking a file&quot; frame will anyway overwrite the edited values.</li>
	<li> VariableName - hidden parameter with the variable name used in the From 
	Workspace block</li>
</ul>


<p><b>Examples:</b><br>
Open the example explorer from the Matlab command window
<!--Command line input should be presented like this-->
<br><tt>ExampleBrowser</tt><br>
or <a href="1_Tutorial.html#examples">load the examples via the CARNOT library</a>. 
</p> 
<ul>
	<li> <a href="matlab:open_system example_WeatherDatafile">
	example_WeatherDatafile</a> </li>
	<li> <a href="matlab:open_system example_WeatherDatafile_DataFromFile">
	example_WeatherDatafile_DataFromFile</a> </li>
	<li> <a href="matlab:open_system example_WeatherDatafile_inSubsystem">
	example_WeatherDatafile_inSubsystem</a> </li>
	<li> <a href="matlab:open_system example_WeatherDatafile_solar">
	example_WeatherDatafile_solar</a> </li>
</ul>

<p><b>Literature:</b></p>
<p>DWD 2017: Test reference years for Germany, Deutscher Wetter-Dienst: 
Ortsgenaue Testreferenzjahre (TRY) von Deutschland für mittlere und 
extreme Witterungsverhältnisse <br>
<a href="https://www.dwd.de/DE/leistungen/testreferenzjahre/testreferenzjahre.html">
https://www.dwd.de/DE/leistungen/testreferenzjahre/testreferenzjahre.html</a> 
(access: 03/01/2025) <br>
<a href="https://www.bbsr.bund.de/BBSR/DE/FP/ZB/Auftragsforschung/5EnergieKlimaBauen/2013/testreferenzjahre/01-start.html">
https://www.bbsr.bund.de/BBSR/DE/FP/ZB/Auftragsforschung/5EnergieKlimaBauen/2013/testreferenzjahre/01-start.html</a> 
(access: 03/01/2025)
</p>
<p>DWD 2014: Test reference years based on the 2011 data; 
Handbuch Testreferenzjahre von Deutschland für mittlere, extreme und zukünftige 
Witterungsverhältnisse; Bundesamtes für Bauwesen und Raumordnung (BBR), 
Climate &amp; Environment Consulting Potsdam GmbH; Deutschen Wetterdienst (DWD) <br>
<a href="https://www.bbsr.bund.de/BBSR/EN/research/programs/FutureBuilding/5EnergyEfficientBuilding/2010/Testreferenceyears/01_start_dossier.html?pos=2">
https://www.bbsr.bund.de/BBSR/EN/research/programs/FutureBuilding/5EnergyEfficientBuilding/2010/Testreferenceyears/01_start_dossier.html?pos=2</a> 
(access: 03/01/2025)
</p>
<p>Meteonorm 2019: Database for timeseries of weather data, Meteotest,
<a href="https://meteonorm.com/">https://meteonorm.com/</a> (access: 03/01/2025)
</p>
<p> Energy Plus 2020: <a href="https://energyplus.net/weather"> 
https://energyplus.net/weather</a> (access: 03/01/2025)
</p>

<hr>
<p><b>NOTE:</b><br>
The block uses the function <a href="CarnotCallbacks_Data_from_File.html">
CarnotCallbacks_Data_from_File</a>.<br>
Similar blocks: <a href="Weather_from_Workspace.html">Weather_from_Workspace</a>, 
<a href="Data_from_File.html">Data_from_File</a>.
</p>

<hr>

<p style="margin-bottom:0;"><b>Characteristics:</b>
<table>
	<tr>
		<td style="width: 150px;">Direct Feedthrough</td>
		<td style="width: 10px;">:</td>
        <td> No</td>
    </tr>
    <tr>
    	<td>Sample Time</td>
        <td>:</td>
        <td>Continuous</td>
    </tr>
    <tr>
    	<td>Vectorized</td>
        <td>:</td>
        <td>No</td>
    </tr>
</table>




<p style="margin-bottom:0;"><b>Characteristics:</b>
<table>
	<tr>
		<td style="width: 150px;">Direct Feedthrough</td>
		<td style="width: 10px;">:</td>
        <td> No</td>
    </tr>
    <tr>
    	<td>Sample Time</td>
        <td>:</td>
        <td>Continuous</td>
    </tr>
    <tr>
    	<td>Vectorized</td>
        <td>:</td>
        <td>Yes</td>
    </tr>
</table>

</body>

</html>
